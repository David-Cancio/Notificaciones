USE [notificacion]
GO

ALTER TABLE Notificacion
DROP CONSTRAINT FK_Notificacion_Area;
GO
ALTER TABLE Notificacion
DROP CONSTRAINT FK_Notificacion_TipoMovimiento;
GO
ALTER TABLE Notificacion
DROP CONSTRAINT FK_Notificacion_Etapa;
GO
ALTER TABLE Notificacion
DROP CONSTRAINT FK_Notificacion_Estado;
GO

/****** Object:  Table [dbo].[TipoMoviento]    Script Date: 09/02/2022 13:48:25 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[TipoMoviento]') AND type in (N'U'))
DROP TABLE [dbo].[TipoMovimiento]
GO
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[TipoMoviento]') AND type in (N'U'))
DROP TABLE [dbo].[Area]
GO
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[TipoMoviento]') AND type in (N'U'))
DROP TABLE [dbo].[Etapa]
GO
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[TipoMoviento]') AND type in (N'U'))
DROP TABLE [dbo].[Estado]
GO
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[TipoMoviento]') AND type in (N'U'))
DROP TABLE [dbo].[Rol]
GO
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[TipoMoviento]') AND type in (N'U'))
DROP TABLE [dbo].[Notificacion]
GO

/****** Object:  Table [dbo].[TipoMoviento]    Script Date: 09/02/2022 13:48:25 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[TipoMovimiento](
	[TipoMov_Codigo] [int] IDENTITY(1,1) PRIMARY KEY,
	[TipoMov_Descripcion] [nvarchar](max) NOT NULL,
	[TipoMov_Nombre] [nvarchar](max) NOT NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO

CREATE TABLE [dbo].[Area](
	[Area_Codigo] [int] IDENTITY(1,1) PRIMARY KEY,
	[Area_Descripcion] [nvarchar](max) NOT NULL,
	[Area_Nombre] [nvarchar](max) NOT NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO

CREATE TABLE [dbo].[Etapa](
	[Etapa_Codigo] [int] IDENTITY(1,1) PRIMARY KEY,
	[Etapa_Descripcion] [nvarchar](max) NOT NULL,
	[Etapa_Nombre] [nvarchar](max) NOT NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO

CREATE TABLE [dbo].[Estado](
	[Estado_Codigo] [int] IDENTITY(1,1) PRIMARY KEY,
	[Estado_Descripcion] [nvarchar](max) NOT NULL,
	[Estado_Nombre] [nvarchar](max) NOT NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO

CREATE TABLE [dbo].[Rol](
	[Rol_Codigo] [int] IDENTITY(1,1) PRIMARY KEY,
	[Rol_Descripcion] [nvarchar](max) NOT NULL,
	[Rol_Nombre] [nvarchar](max) NOT NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO

CREATE TABLE [dbo].[Notificacion](
	[Notificacion_Codigo] [int] IDENTITY(1,1) PRIMARY KEY,
	[Notificacion_Area] [int] NOT NULL,
	[Notificacion_TipoMovimiento] [int] NOT NULL,
	[Notificacion_Etapa] [int] NOT NULL,
	[Notificacion_Estado] [int] NOT NULL,
	[Notificacion_Rol] [int] NOT NULL,
	CONSTRAINT FK_Notificacion_Area FOREIGN KEY (Notificacion_Area)
    REFERENCES [dbo].[Area] ([Area_Codigo]),
	CONSTRAINT FK_Notificacion_TipoMovimiento FOREIGN KEY (Notificacion_TipoMovimiento)
    REFERENCES [dbo].[TipoMovimiento] ([TipoMov_Codigo]),
	CONSTRAINT FK_Notificacion_Etapa FOREIGN KEY (Notificacion_Etapa)
    REFERENCES [dbo].[Etapa] ([Etapa_Codigo]),
	CONSTRAINT FK_Notificacion_Estado FOREIGN KEY (Notificacion_Estado)
    REFERENCES [dbo].[Estado] ([Estado_Codigo]),
	)
GO

